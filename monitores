#!/bin/bash

PRIMARY=$(xrandr | grep " connected primary" | awk '{print $1}')
EXTERNAL=$(xrandr | grep " connected" | grep -v "primary" | awk '{print $1}')

if [ -z "$EXTERNAL" ]; then
  notify-send "üñ•Ô∏è Error" "No se ha detectado ninguna pantalla externa."
  exit 1
fi

options="Û∞πë Solo Port√°til\nÛ∞πë = Û∞πë Duplicar\nÓ≠å Extender\nÛ∞πë Solo Externa"
choice=$(echo -e "$options" | dmenu -i -p "$1"| awk '{print $1}')

case $choice in
"Û∞πë Solo Port√°til")
  xrandr --output "$PRIMARY" --auto --output "$EXTERNAL" --off
  ;;
"Û∞πë = Û∞πë Duplicar")
  xrandr --output "$PRIMARY" --auto --output "$EXTERNAL" --auto --same-as "$PRIMARY"
  ;;
"Ó≠å Extender")
  xrandr --output "$PRIMARY" --auto --primary --output "$EXTERNAL" --auto --right-of "$PRIMARY"
  ;;
"Û∞πë Solo Externa")
  xrandr --output "$EXTERNAL" --auto --primary --output "$PRIMARY" --off
  ;;
esac
